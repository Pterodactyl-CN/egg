{
    "_comment": "DO NOT EDIT: FILE GENERATED AUTOMATICALLY BY PTERODACTYL PANEL - PTERODACTYL.IO",
    "meta": {
        "version": "PTDL_v1",
        "update_url": null
    },
    "exported_at": "2021-12-19T03:11:34+08:00",
    "name": "minecraft-generic",
    "author": "xjdzch@126.com",
    "description": "\u901a\u7528Java",
    "features": [
        "eula"
    ],
    "images": [
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:adoptium-11",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:adoptium-11-glibc",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:adoptium-16",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:adoptium-16-glibc",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:adoptium-17",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:adoptium-17-glibc",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:adoptium-8",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:adoptium-8-glibc",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:corretto-11",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:corretto-11-glibc",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:corretto-16",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:corretto-16-glibc",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:corretto-17",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:corretto-17-glibc",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:corretto-8",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:corretto-8-glibc",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:dragonwell-11",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:dragonwell-17",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:dragonwell-8",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:ibm-11",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:ibm-16",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:ibm-17",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:ibm-8",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:kona-8",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:liberica-11",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:liberica-11-glibc",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:liberica-16",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:liberica-16-glibc",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:liberica-17",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:liberica-17-glibc",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:liberica-8",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:liberica-8-glibc",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:openjdk-11",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:openjdk-16",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:openjdk-17",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:openjdk-7",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:openjdk-8",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:zulu-11",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:zulu-11-glibc",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:zulu-16",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:zulu-16-glibc",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:zulu-17",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:zulu-17-glibc",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:zulu-8",
        "ccr.ccs.tencentyun.com\/pterodactyl-cn\/java:zulu-8-glibc"
    ],
    "file_denylist": [],
    "startup": "java -Xms128M -Xmx{{SERVER_MEMORY}}M -jar {{SERVER_JARFILE}}",
    "config": {
        "files": "{\r\n    \"server.properties\": {\r\n        \"parser\": \"properties\",\r\n        \"find\": {\r\n            \"server-ip\": \"0.0.0.0\",\r\n            \"enable-query\": \"true\",\r\n            \"server-port\": \"{{server.build.default.port}}\",\r\n            \"query.port\": \"{{server.build.default.port}}\"\r\n        }\r\n    }\r\n}",
        "startup": "{\r\n    \"done\": \")! For help, type \",\r\n    \"userInteraction\": [\r\n        \"Go to eula.txt for more info.\"\r\n    ]\r\n}",
        "logs": "{\r\n    \"custom\": false,\r\n    \"location\": \"logs\/latest.log\"\r\n}",
        "stop": "stop"
    },
    "scripts": {
        "installation": {
            "script": "#!\/bin\/sh\r\n\r\n# \u66f4\u6362\u6e90\u548c\u5b89\u88c5\u57fa\u7840\u5de5\u5177\r\nfunction installBasicTools(){\r\n    sed -i 's\/dl-cdn.alpinelinux.org\/mirrors.tuna.tsinghua.edu.cn\/g' \/etc\/apk\/repositories\r\n    apk --no-cache add bash curl wget aria2 ca-certificates\r\n    # \u5224\u65ad\u9000\u51fa\u4ee3\u7801\u662f\u5426\u4e3a 0\r\n    if [ $? -eq 0 ]; then\r\n        echo \"\u57fa\u7840\u5de5\u5177\u5b89\u88c5\u6210\u529f\"\r\n    else\r\n        echo \"\u57fa\u7840\u5de5\u5177\u5b89\u88c5\u5931\u8d25,\u4f46\u662f\u4ecd\u7136\u8981\u4ee5 0 \u9000\u51fa\u811a\u672c\"\r\n        echo \"\u5b89\u88c5\u57fa\u7840\u5de5\u5177\u5931\u8d25,\u53ef\u80fd\u662f\u7f51\u7edc\u539f\u56e0?\"\r\n        exit 0\r\n    fi\r\n}\r\n\r\n# \u6309\u9700\u6e05\u7a7a\u670d\u52a1\u5668\r\nfunction removeAllFiles(){\r\n    # \u5224\u65ad\u662f\u5426\u5b58\u5728\u6e05\u7a7a\u670d\u52a1\u5668\u7684\u53d8\u91cf\r\n    # REMOVE_ALL_FILES=false\r\n    # \u5982\u679c\u6ca1\u5b9a\u4e49\u6216\u8005\u4e3a false \u5c31\u4e0d\u6267\u884c\u6e05\u7a7a\r\n    if [ \"$REMOVE_ALL_FILES\" == true ]; then\r\n        echo \"\u6e05\u7a7a\u670d\u52a1\u5668\u6587\u4ef6\"\r\n        rm -rf \/mnt\/server\/*\r\n    fi\r\n}\r\n\r\n# \u4e0b\u8f7d\u548c\u5b89\u88c5\r\nfunction downloadAndInstall(){\r\n    echo \"\u9009\u62e9\u7684\u5305\u662f ${PACK_NAME}\"\r\n    # \u5224\u65ad\u5305\u540d\u5b57\u662f\u5426\u4e3a\u7a7a\r\n    if [ ! -z \"$PACKAGE_NAME\" ]; then\r\n        echo \"\u5305\u540d\u5b57\u4e3a\u7a7a,\u8df3\u8fc7\u5b89\u88c5\"\r\n        exit 0\r\n    fi\r\n\r\n    # \u4e0b\u8f7d\u90e8\u5206\r\n    # wget https:\/\/res.gameworldmc.cn\/packs\/${PACK_NAME}.tar.gz -O server.tar.gz\r\n    # \u4f60\u8bf4\u5148\u5f97\u5220\u6389\u540c\u540d\u6587\u4ef6\u5bf9\u4e0d\u5bf9\r\n    rm -rf \/mnt\/server\/server.tar.gz\r\n    aria2c -x 16 -s 64 -c -o \/mnt\/server\/server.tar.gz https:\/\/res.gameworldmc.cn\/packs\/${PACK_NAME}.tar.gz\r\n    # echo $?\r\n    # \u5224\u65ad\u9000\u51fa\u4ee3\u7801\u662f\u5426\u4e3a 0\r\n    if [ $? -eq 0 ]; then\r\n        echo \"\u4e0b\u8f7d\u6210\u529f\"\r\n    else\r\n        echo \"\u4e0b\u8f7d\u5931\u8d25,\u4f46\u662f\u4ecd\u7136\u8981\u4ee5 0 \u9000\u51fa\u811a\u672c\"\r\n        exit 0\r\n    fi\r\n\r\n    # \u89e3\u538b\u7684\u65f6\u5019\u8981\u8131\u6389\u4e00\u5c42\r\n    tar xvzf \/mnt\/server\/server.tar.gz --strip-components=1 -C \/mnt\/server\/\r\n    # \u5224\u65ad\u89e3\u538b\u9000\u51fa\u4ee3\u7801\u662f\u5426\u4e3a 0\r\n    if [ $? -eq 0 ]; then\r\n        echo \"\u89e3\u538b\u6210\u529f\"\r\n    else\r\n        echo \"\u89e3\u538b\u5931\u8d25,\u4f46\u662f\u4ecd\u7136\u8981\u4ee5 0 \u9000\u51fa\u811a\u672c\"\r\n        exit 0\r\n    fi\r\n    echo \"\u5b89\u88c5\u5b8c\u6210,\u73b0\u5728\u60a8\u53ef\u4ee5\u5220\u6389 server.tar.gz \u6587\u4ef6\"\r\n}\r\n\r\n# \u5220\u9664\u80af\u5b9a\u662f\u653e\u5728\u6700\u4e0a\u9762\u7684\r\nremoveAllFiles\r\n\r\n# \u7136\u540e\u5728\u8fd9\u91cc\u8981\u91cd\u7f6e\u4e00\u4e0b\u5b89\u88c5\u65e5\u5fd7\r\ntouch \/mnt\/server\/install.log && echo > \/mnt\/server\/install.log\r\n\r\n# \u5269\u4e0b\u7684\u4e8b\u60c5\u5c31\u662f\u8001\u5de5\u4f5c\u4e86\r\ninstallBasicTools 2>&1 | tee \/mnt\/server\/install.log\r\ndownloadAndInstall 2>&1 | tee \/mnt\/server\/install.log",
            "container": "alpine",
            "entrypoint": "sh"
        }
    },
    "variables": [
        {
            "name": "[\u57fa\u7840] \u670d\u52a1\u7aef",
            "description": "\u670d\u52a1\u7aef\u7684\u540d\u5b57,\u6216\u8005\u4e5f\u53ef\u4ee5\u53eb\u6838\u5fc3\u7684\u540d\u5b57",
            "env_variable": "SERVER_JARFILE",
            "default_value": "server.jar",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|regex:\/^([\\w\\d._-]+)(\\.jar)$\/"
        },
        {
            "name": "[\u6742\u9879] \u7981\u6b62 Log4j2 \u67e5\u627e\u53d8\u91cf",
            "description": "\u7981\u6b62 Log4j2 \u67e5\u627e",
            "env_variable": "FORMAT_MESSAGES_PATTERN_DISABLE_LOOKUPS",
            "default_value": "true",
            "user_viewable": true,
            "user_editable": false,
            "rules": "required"
        },
        {
            "name": "[\u6742\u9879] \u989d\u5916 Java \u53c2\u6570",
            "description": "\u4e00\u822c\u6765\u8bf4\u4e0d\u7528\u4fee\u6539,\u9700\u8981\u4fee\u6539\u8bf7\u8054\u7cfb\u5ba2\u670d",
            "env_variable": "_JAVA_OPTIONS",
            "default_value": "-Dlog4j2.formatMsgNoLookups=true -Dcom.sun.jndi.ldap.object.trustURLCodebase=false -Djava.naming.factory.initial=Fuck.Log4j2",
            "user_viewable": true,
            "user_editable": false,
            "rules": "string"
        },
        {
            "name": "[\u81ea\u52a8\u5b89\u88c5]  \u5b89\u88c5\u65f6\u6e05\u7a7a\u670d\u52a1\u7aef",
            "description": "\u5f53\u8bbe\u5b9a\u4e3a true \u7684\u65f6\u5019\u4f1a\u5728\u5b89\u88c5\/\u91cd\u88c5\u9636\u6bb5\u6e05\u7a7a\u670d\u52a1\u5668\u6587\u4ef6 \r\n\u8bf7\u52a1\u5fc5\u8c28\u614e\u9009\u62e9!!!",
            "env_variable": "REMOVE_ALL_FILES",
            "default_value": "false",
            "user_viewable": true,
            "user_editable": true,
            "rules": "nullable"
        },
        {
            "name": "[\u81ea\u52a8\u5b89\u88c5] \u5e0c\u671b\u5b89\u88c5\u7684\u670d\u52a1\u7aef ID",
            "description": "\u5728\u8fd9\u91cc\u8f93\u5165\u60f3\u8981\u5b89\u88c5\u7684\u670d\u52a1\u7aef ID \r\n\u8be6\u60c5\u54a8\u8be2\u5ba2\u670d\r\n\u4e0d\u5e0c\u671b\u81ea\u52a8\u5b89\u88c5\u4efb\u4f55\u670d\u52a1\u7aef\u53ef\u4ee5\u7559\u7a7a",
            "env_variable": "PACK_NAME",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": "nullable"
        }
    ]
}