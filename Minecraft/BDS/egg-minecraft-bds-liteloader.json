{
    "_comment": "DO NOT EDIT: FILE GENERATED AUTOMATICALLY BY PTERODACTYL PANEL - PTERODACTYL.IO",
    "meta": {
        "version": "PTDL_v1",
        "update_url": null
    },
    "exported_at": "2021-08-27T00:00:30+08:00",
    "name": "minecraft-bds-liteloader",
    "author": "xjdzch@126.com",
    "description": "基于LiteLoader的服务端",
    "features": null,
    "images": [
        "ccr.ccs.tencentyun.com/pterodactyl-cn/other:wine-debian-10"
    ],
    "file_denylist": [],
    "startup": "wine ./bedrock_server",
    "config": {
        "files": "{\r\n    \"server.properties\": {\r\n        \"parser\": \"properties\",\r\n        \"find\": {\r\n            \"server-port\": \"{{server.build.default.port}}\"\r\n        }\r\n    }\r\n}",
        "startup": "{\r\n    \"done\": \"[INFO] Server started\",\r\n    \"userInteraction\": [\r\n        \"Go to eula.txt for more info.\"\r\n    ]\r\n}",
        "logs": "{\r\n    \"custom\": false,\r\n    \"location\": \"logs/latest.log\"\r\n}",
        "stop": "stop"
    },
    "scripts": {
        "installation": {
            "script": "#!/bin/bash\r\n# 关于替换镜像站,可以放在下面\r\napt update\r\napt install -y wget curl unzip ca-certificates\r\n# 进来目录里\r\ncd /mnt/server\r\nwget https://minecraft.azureedge.net/bin-win/bedrock-server-${BDS_VERSION}.zip\r\nwget https://github.com/LiteLDev/LiteLoaderBDS/releases/download/${LITELOADER_VERSION}/LiteLoader.zip\r\nunzip bedrock-server-${BDS_VERSION}.zip\r\nunzip LiteLoader.zip\r\nrm bedrock-server-${LITELOADER_VERSION}.zip\r\nrm LiteLoader.zip\r\n# 这里还需要补充一个 vcruntime140_1 自己想办法\r\n# 然后我们把导出符号什么的推迟到运行的时候进行\r\ncat <<EOF > start.sh\r\nwine SymDB2.exe\r\nrm PDB_Symdef.txt\r\nrm -rf .wine\r\nwine bedrock_server.exe\r\nEOF\r\n# 最后修正一下权限啦\r\nchmod +x start.sh",
            "container": "ubuntu",
            "entrypoint": "bash"
        }
    },
    "variables": [
        {
            "name": "LiteLoader 版本",
            "description": "LiteLoader 版本\r\n必须是 GitHub 中存在的 Release 否则会下载失败",
            "env_variable": "LITELOADER_VERSION",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|string|max:20"
        },
        {
            "name": "BDS 版本",
            "description": "BDS 版本\r\n同样必须是存在的版本否则会下载失败",
            "env_variable": "BDS_VERSION",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|string|max:20"
        },
        {
            "name": "Wine 调试级别",
            "description": "这个一般不需要给用户看\r\n用来控制Wine的调试信息输出",
            "env_variable": "WINEDEBUG",
            "default_value": "-all",
            "user_viewable": false,
            "user_editable": false,
            "rules": "required|string|max:20"
        }
    ]
}